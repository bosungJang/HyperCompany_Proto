import React, { useState } from "react";
import "./Table.css";
import styled from "styled-components";

const PageButton = styled.button`
  padding: 0.375rem 0.75rem;
  font-size: 1rem;
  background: white;
  border: none;
  &:hover {
    background-color: lightblue;
    border-radius: 55px;
  }
`;
const TableContainer = styled.div`
  width: 100%;
  height: 400px;
  overflow: auto;
  // overflow-x: scroll;

  &::-webkit-scrollbar-track {
    background: none;
  }
  &::-webkit-scrollbar {
    width: 6px;
    height: 6px;
    background-color: #f5f5f5;
  }
  &::-webkit-scrollbar-thumb {
    background: #cecece;
    border-radius: 10px;
  }
  thead th {
    position: sticky;
    top: 0;
    background-color: #ededed;
  }
`;
const HcTable = () => {
  const shortid = require("shortid");
  const columns = ["id", "name", "mail"];

  const data = Array(103)
    .fill(undefined)
    .map(() => ({
      id: shortid.generate(),
      name: shortid.generate(),
      mail: shortid.generate(),
    }));

  const [page, setPage] = useState(1);
  const rowsPerPage = 10;

  const pageclick = (num: number) => (event: any) => {
    setPage(num);
  };

  const firstPageClick = () => {
    setPage(1);
  };
  const lastPageClick = () => {
    setPage(totalPage);
  };
  const nextPageClick = () => {
    if (page + 1 <= totalPage) setPage(page + 1);
  };
  const prevPageClick = () => {
    if (page - 1 > 0) setPage(page - 1);
  };
  const range = []; //페이지 배열
  const totalPage = Math.ceil(data.length / rowsPerPage); //전체 페이지 수
  const remainder = Math.ceil(page / 5) - 1;

  if (totalPage <= 1) {
    range.push(1);
  } else if (totalPage < 5) {
    range.push(page);
  } else {
    for (let i = 1; i <= 5; i++) {
      if (i + 5 * remainder > totalPage) continue;

      range.push(i + 5 * remainder);
    }
  }

  return (
    <div className="table">
      <div
        style={{
          paddingTop: 40,
          margin: "auto",
          width: "95%",
        }}
      >
        <div className="table_Title">인사 발령</div>
        <div className="table_Subject">발령 현황</div>
        <button className="btn-15 custom-btn">효과</button>
        <button className="table_buttons_create" style={{ marginRight: 10 }}>
          +생성
        </button>
        <button className="table_buttons" style={{ marginRight: 10 }}>
          이동
        </button>

        <button className="table_buttons">삭제</button>
        <button className="table_manage">
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10.9348 19H9.065C8.5774 19 8.166 18.6508 8.0866 18.17L7.7726 16.2658C7.56 16.1896 7.3502 16.1026 7.145 16.0048L5.5756 17.1295C5.1906 17.4053 4.6318 17.3587 4.2972 17.0255L2.975 15.7032C2.6298 15.3574 2.5862 14.8196 2.8708 14.4235L3.9954 12.8555C3.8976 12.6496 3.8104 12.4398 3.7344 12.2268L1.8308 11.9132C1.349 11.8332 1 11.421 1 10.9348V9.06565C1 8.57702 1.3494 8.1652 1.8308 8.08639L3.7342 7.77278C3.81 7.56056 3.8972 7.35075 3.9948 7.14534L2.87 5.57645C2.5866 5.17943 2.6304 4.6416 2.9744 4.29718L4.2962 2.97551C4.6306 2.64069 5.1908 2.59429 5.5758 2.8707L7.1444 3.99537C7.3498 3.89756 7.56 3.81056 7.7724 3.73475L8.0862 1.83005C8.1654 1.34922 8.5768 1 9.0646 1H10.934C11.4216 1 11.8328 1.34922 11.9126 1.83005L12.2262 3.73475C12.439 3.81056 12.6484 3.89756 12.8544 3.99537L14.4232 2.8707C14.8088 2.59429 15.369 2.64069 15.7032 2.97591L17.0242 4.29678C17.3688 4.641 17.4128 5.17883 17.1288 5.57565L16.0034 7.14554C16.1018 7.35175 16.189 7.56156 16.2644 7.77298L18.1686 8.08699C18.65 8.1652 19 8.57642 19 9.06485V10.934C19 11.423 18.6496 11.8344 18.1684 11.9126L16.2648 12.227C16.1894 12.4388 16.1024 12.6488 16.0038 12.8549L17.1296 14.4237C17.414 14.8206 17.3694 15.3582 17.025 15.703L15.7032 17.0241C15.516 17.2117 15.2664 17.3151 15.0008 17.3151C14.793 17.3151 14.5934 17.2511 14.4238 17.1299L12.8542 16.0044C12.6488 16.1024 12.4394 16.1896 12.2272 16.2654L11.9128 18.1698C11.8336 18.6508 11.4222 19 10.9348 19ZM7.1028 15.0052C7.1768 15.0052 7.2512 15.0224 7.3192 15.0588C7.6402 15.2288 7.9764 15.3686 8.3192 15.4736C8.4868 15.5256 8.6106 15.6674 8.6392 15.84L8.9986 18.0193C9.004 18.0521 9.0318 18.0759 9.0652 18.0759H10.935C10.9678 18.0759 10.9964 18.0525 11.0014 18.0197L11.3616 15.84C11.3898 15.6674 11.514 15.5256 11.6812 15.4736C12.0218 15.369 12.3586 15.229 12.6812 15.0584C12.8354 14.9756 13.0234 14.9892 13.1664 15.0912L14.9624 16.3791C15.0144 16.3913 15.0332 16.3881 15.0496 16.3713L16.3722 15.0498C16.3952 15.0264 16.398 14.9888 16.3792 14.9616L15.091 13.1669C14.9886 13.0239 14.9758 12.8361 15.0582 12.6812C15.2296 12.357 15.3696 12.0206 15.4734 11.6812C15.5246 11.5132 15.666 11.3894 15.8394 11.3608L18.019 11.001C18.0526 10.9956 18.0764 10.9674 18.0764 10.9338V9.06465C18.0764 9.03105 18.0522 9.00324 18.0194 8.99824L15.8398 8.63882C15.6664 8.61022 15.5246 8.48622 15.4734 8.31841C15.3694 7.97959 15.23 7.64297 15.0582 7.31875C14.9758 7.16414 14.9886 6.97573 15.0906 6.83332L16.3784 5.03702C16.3976 5.01042 16.3948 4.97242 16.3718 4.94962L15.05 3.62815C15.0332 3.61154 15.0152 3.60834 15.0024 3.60834L13.1664 4.90842C13.023 5.01022 12.8352 5.02302 12.6804 4.94082C12.359 4.77021 12.023 4.631 11.6816 4.5266C11.5136 4.47579 11.389 4.33359 11.3608 4.15998L11.0014 1.97985C10.9964 1.94725 10.9678 1.92345 10.9346 1.92345H9.0652C9.0318 1.92345 9.004 1.94725 8.9986 1.98025L8.6392 4.16058C8.6106 4.33379 8.4862 4.47599 8.3184 4.5268C7.9768 4.6316 7.6408 4.77041 7.3196 4.94102C7.1646 5.02322 6.9764 5.01042 6.834 4.90862L5.0378 3.62095C4.9852 3.60694 4.9668 3.61114 4.9504 3.62815L3.6286 4.94962C3.605 4.97302 3.6022 5.01042 3.6218 5.03842L4.909 6.83352C5.0108 6.97593 5.0238 7.16434 4.9418 7.31895C4.7714 7.63997 4.6322 7.97639 4.527 8.31901C4.4754 8.48642 4.3334 8.61042 4.1604 8.63902L1.9808 8.99804C1.9476 9.00344 1.924 9.03185 1.924 9.06565V10.9348C1.924 10.968 1.9484 10.997 1.982 11.0024L4.1602 11.361C4.3332 11.3896 4.4754 11.5134 4.5268 11.6814C4.6318 12.0236 4.7712 12.3604 4.9416 12.681C5.0238 12.8357 5.0112 13.0241 4.9088 13.1671L3.6212 14.963C3.6018 14.9896 3.6052 15.0274 3.6284 15.0506L4.9502 16.3725C4.9672 16.3893 4.9876 16.3917 4.9982 16.3917L6.8338 15.092C6.9136 15.0342 7.008 15.0052 7.1028 15.0052ZM9.9996 13.2541C8.205 13.2541 6.7454 11.7938 6.7454 9.9997C6.7454 8.2054 8.205 6.74552 9.9996 6.74552C11.7942 6.74552 13.254 8.2054 13.254 9.9997C13.254 11.7938 11.7942 13.2541 9.9996 13.2541ZM9.9996 7.66937C8.7146 7.66937 7.6692 8.71483 7.6692 9.9995C7.6692 11.2842 8.7148 12.33 9.9996 12.33C11.2848 12.33 12.3302 11.2842 12.3302 9.9995C12.33 8.71483 11.2848 7.66937 9.9996 7.66937Z"
              fill="#5B5B5B"
              stroke="#5B5B5B"
              stroke-width="0.2"
            />
          </svg>
        </button>
        <button className="table_manage">
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M14.3465 17.1827H3.38492C2.65812 17.1827 1.96109 16.8939 1.44717 16.38C0.93325 15.8661 0.644531 15.1691 0.644531 14.4423V3.48074C0.644531 2.75395 0.93325 2.05692 1.44717 1.543C1.96109 1.02907 2.65812 0.740356 3.38492 0.740356H7.03876C7.28103 0.740356 7.51337 0.836596 7.68468 1.0079C7.85598 1.17921 7.95222 1.41155 7.95222 1.65382C7.95222 1.89608 7.85598 2.12843 7.68468 2.29973C7.51337 2.47104 7.28103 2.56728 7.03876 2.56728H3.38492C3.14265 2.56728 2.91031 2.66352 2.739 2.83483C2.56769 3.00613 2.47145 3.23848 2.47145 3.48074V14.4423C2.47145 14.6845 2.56769 14.9169 2.739 15.0882C2.91031 15.2595 3.14265 15.3557 3.38492 15.3557H14.3465C14.5887 15.3557 14.8211 15.2595 14.9924 15.0882C15.1637 14.9169 15.2599 14.6845 15.2599 14.4423V10.7884C15.2599 10.5462 15.3562 10.3138 15.5275 10.1425C15.6988 9.97121 15.9311 9.87497 16.1734 9.87497C16.4156 9.87497 16.648 9.97121 16.8193 10.1425C16.9906 10.3138 17.0868 10.5462 17.0868 10.7884V14.4423C17.0868 15.1691 16.7981 15.8661 16.2842 16.38C15.7703 16.8939 15.0732 17.1827 14.3465 17.1827Z"
              fill="#5B5B5B"
            />
            <path
              d="M17.087 1.69949V6.2668C17.0861 6.44714 17.0318 6.62318 16.931 6.77273C16.8302 6.92229 16.6874 7.03866 16.5206 7.10719C16.4122 7.15832 16.2933 7.18335 16.1735 7.18026C16.0533 7.18096 15.9341 7.15792 15.8228 7.11246C15.7115 7.067 15.6103 7.00002 15.5249 6.91536L13.8442 5.30767L9.46868 9.68315C9.38376 9.76877 9.28274 9.83672 9.17142 9.8831C9.06011 9.92947 8.94071 9.95335 8.82013 9.95335C8.69954 9.95335 8.58014 9.92947 8.46883 9.8831C8.35752 9.83672 8.25649 9.76877 8.17157 9.68315C8.08595 9.59823 8.01799 9.4972 7.97162 9.38589C7.92524 9.27457 7.90137 9.15518 7.90137 9.03459C7.90137 8.914 7.92524 8.79461 7.97162 8.68329C8.01799 8.57198 8.08595 8.47095 8.17157 8.38603L12.5196 3.98315L10.912 2.34805C10.7806 2.22268 10.6896 2.06099 10.6505 1.88365C10.6115 1.7063 10.6262 1.52134 10.6927 1.35238C10.7656 1.17354 10.8932 1.0224 11.0573 0.920644C11.2215 0.81889 11.4136 0.771763 11.6062 0.786033H16.1735C16.249 0.772901 16.3263 0.772901 16.4019 0.786033C16.4441 0.777894 16.4875 0.777894 16.5297 0.786033C16.6393 0.829209 16.7389 0.894471 16.8222 0.977758C16.9054 1.06105 16.9707 1.16058 17.0139 1.27017C17.022 1.31241 17.022 1.35581 17.0139 1.39805C17.0616 1.49139 17.0866 1.59467 17.087 1.69949Z"
              fill="#5B5B5B"
            />
          </svg>
        </button>
        <button className="table_manage">
          <svg
            width="17"
            height="18"
            viewBox="0 0 17 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M2.39171 16.2842C1.25802 16.2842 0.336426 15.3627 0.336426 14.229V2.70916C0.336426 1.57546 1.25802 0.65387 2.39171 0.65387H11.435C12.5687 0.65387 13.4903 1.57546 13.4903 2.70916V3.94574C13.4903 4.39954 13.1228 4.76785 12.6682 4.76785C12.2143 4.76785 11.846 4.39954 11.846 3.94574V2.70916C11.846 2.48225 11.6619 2.2981 11.435 2.2981H2.39171C2.16563 2.2981 1.98066 2.48225 1.98066 2.70916V14.229C1.98066 14.455 2.16563 14.64 2.39171 14.64H9.35608C9.81071 14.64 10.1782 15.0075 10.1782 15.4621C10.1782 15.9168 9.81071 16.2842 9.35608 16.2842H2.39171ZM4.4472 5.58575C3.99257 5.58575 3.62509 5.21745 3.62509 4.76364C3.62509 4.30983 3.99257 3.94152 4.4472 3.94152H9.35628C9.81091 3.94152 10.1784 4.30983 10.1784 4.76364C10.1784 5.21745 9.81091 5.58575 9.35628 5.58575H4.4472ZM3.62509 7.28636C3.62509 7.74017 3.99257 8.10848 4.4472 8.10848H9.35628C9.81091 8.10848 10.1784 7.74017 10.1784 7.28636C10.1784 6.83256 9.81091 6.46425 9.35628 6.46425H4.4472C3.99257 6.46425 3.62509 6.83256 3.62509 7.28636Z"
              fill="#5B5B5B"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M13.4907 15.4562H15.1366V10.9921L14.3255 9.21469L13.4907 10.9921V15.4562ZM12.6683 17.1004C12.2137 17.1004 11.8462 16.733 11.8462 16.2783V10.8146C11.8462 10.697 11.8709 10.5811 11.9202 10.4742L13.577 6.88978C13.7102 6.59628 14.0037 6.40802 14.3252 6.40802C14.6474 6.40802 14.9401 6.59628 15.0741 6.88978L16.7065 10.4742C16.755 10.5811 16.7805 10.697 16.7805 10.8146V16.2783C16.7805 16.733 16.4122 17.1004 15.9584 17.1004H12.6683Z"
              fill="#5B5B5B"
            />
            <rect
              x="13.4902"
              y="5.58649"
              width="1.64423"
              height="2.46635"
              rx="0.822115"
              fill="#5B5B5B"
            />
          </svg>
        </button>
        <button className="table_manage">
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M9.35379 7.27147L14.0305 1.28927H1.96947L6.69544 7.27147C6.79389 7.42618 6.84312 7.5809 6.84312 7.73561V13.099L9.15688 14.2851V7.68404C9.15688 7.52933 9.25533 7.37461 9.35379 7.27147ZM15.852 1.08299L10.4368 7.94189V15.3165C10.4368 15.8322 9.94454 16.1416 9.55071 15.9354L5.957 14.1304C5.76009 14.0272 5.56317 13.821 5.56317 13.5115V7.94189L0.148004 1.08299C-0.196598 0.670419 0.0987753 0 0.640292 0H15.3597C15.9012 0 16.1966 0.618849 15.852 1.08299Z"
              fill="#5B5B5B"
            />
          </svg>
        </button>
      </div>
      <TableContainer>
        <table className="table table-hover">
          <thead>
            <tr>
              {columns.map((column) => (
                <th key={column}>{column}</th>
              ))}
            </tr>
          </thead>
          <tbody>
            {data
              .slice(rowsPerPage * (page - 1), page * rowsPerPage)
              .map(({ id, name, mail }) => (
                <tr style={{ textAlign: "center" }}>
                  <td>{id}</td>
                  <td>{name}</td>
                  <td>{mail}</td>
                </tr>
              ))}
          </tbody>
        </table>
      </TableContainer>

      <div>
        <ul>
          <li style={{ float: "left" }}>
            <PageButton className="pageButtons" onClick={firstPageClick}>
              first
            </PageButton>
          </li>
          <li style={{ float: "left" }}>
            <PageButton className="pageButtons" onClick={prevPageClick}>
              prev
            </PageButton>
          </li>
          {range.map((item) => (
            <li style={{ float: "left" }}>
              <PageButton
                className="pageButtons"
                onClick={pageclick(item)}
                style={
                  item == page
                    ? { backgroundColor: "lightGray", borderRadius: 55 }
                    : {}
                }
              >
                {item}
              </PageButton>
            </li>
          ))}
          <li style={{ float: "left" }}>
            <PageButton className="pageButtons" onClick={nextPageClick}>
              next
            </PageButton>
          </li>
          <li style={{ float: "left" }}>
            <PageButton className="pageButtons" onClick={lastPageClick}>
              last
            </PageButton>
          </li>
        </ul>
        now {page}
      </div>
    </div>
  );
};

export default HcTable;
