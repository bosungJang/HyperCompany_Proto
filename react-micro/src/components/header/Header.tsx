import React from "react";
import { NavLink } from "react-router-dom";
import "./Header.css";
import { faTh } from "@fortawesome/free-solid-svg-icons";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { OrderedListOutlined } from "@ant-design/icons";
import GNB from "components/GNB/GNB";

interface HeaderProps {
  openGNBBar: boolean;
  setGNB: (open: boolean) => void;
}

function useOutsideClick(ref: any, setGNB: (open: boolean) => void) {
  function handleClickOutside(event: MouseEvent): void {
    if (ref.current && !ref.current.contains(event.target)) {
      setGNB(false);
    }
  }

  React.useEffect(() => {
    // Bind the event listener
    document.addEventListener("mousedown", handleClickOutside);
    return () => {
      // Unbind the event listener on clean up
      document.removeEventListener("mousedown", handleClickOutside);
    };
  });
}

const Header = (props: HeaderProps) => {
  const activeStyle = {
    color: "black",
  };

  const wrapperRef = React.useRef(null);
  useOutsideClick(wrapperRef, props.setGNB);

  return (
    <div
      className="header_wrapper"
      ref={props.openGNBBar === false ? null : wrapperRef}
    >
      <div className="header_icon">
        <svg
          width="36"
          height="36"
          viewBox="0 0 36 36"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          onClick={() => props.setGNB(!props.openGNBBar)}
          style={{ cursor: "pointer" }}
        >
          <rect x="6" y="7" width="24" height="4" rx="2" fill="white" />
          <rect x="6" y="16" width="24" height="4" rx="2" fill="white" />
          <rect x="6" y="25" width="24" height="4" rx="2" fill="white" />
        </svg>
      </div>
      <div className="header_title">
        {" "}
        <svg
          width="230"
          height="18"
          viewBox="0 0 230 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.0506 17.7692C11.4736 17.7692 11.8745 17.6931 12.2534 17.5408C12.6324 17.3885 12.9584 17.1769 13.2316 16.9062C13.5048 16.6354 13.7251 16.3181 13.8925 15.9542C14.06 15.5904 14.1437 15.2054 14.1437 14.7992V10.0269C14.1437 9.62077 14.06 9.24 13.8925 8.88461C13.7251 8.52923 13.5048 8.21615 13.2316 7.94538C12.9584 7.67461 12.6324 7.46308 12.2534 7.31077C11.8745 7.15846 11.4736 7.08231 11.0506 7.08231H4.62644C4.48544 7.08231 4.37088 7.03577 4.28276 6.94269C4.19463 6.84961 4.15057 6.73538 4.15057 6.6V4.54385C4.15057 4.40846 4.19463 4.29423 4.28276 4.20115C4.37088 4.10808 4.48544 4.06154 4.62644 4.06154H13.0598C13.2008 4.06154 13.3197 4.01923 13.4167 3.93461C13.5136 3.85 13.5621 3.74 13.5621 3.60461V0.482308C13.5621 0.160769 13.3946 0 13.0598 0H3.0931C2.67011 0 2.26916 0.0803846 1.89023 0.241154C1.5113 0.401923 1.18084 0.613461 0.89885 0.875769C0.616858 1.13808 0.396552 1.45115 0.237931 1.815C0.0793103 2.17885 0 2.56385 0 2.97V7.74231C0 8.14846 0.0793103 8.52923 0.237931 8.88461C0.396552 9.24 0.616858 9.55307 0.89885 9.82384C1.18084 10.0946 1.5113 10.3062 1.89023 10.4585C2.26916 10.6108 2.67011 10.6869 3.0931 10.6869H9.4908C9.6318 10.6869 9.75076 10.7335 9.8477 10.8265C9.94463 10.9196 9.9931 11.0338 9.9931 11.1692V13.2762C9.9931 13.4115 9.94463 13.5215 9.8477 13.6062C9.75076 13.6908 9.6318 13.7331 9.4908 13.7331H0.502299C0.361303 13.7331 0.242337 13.7796 0.145402 13.8727C0.0484674 13.9658 0 14.08 0 14.2154V17.2869C0 17.6085 0.167433 17.7692 0.502299 17.7692H11.0506Z"
            fill="white"
          />
          <path
            d="M30.5875 17.7692C31.0104 17.7692 31.4114 17.6931 31.7903 17.5408C32.1693 17.3885 32.4953 17.1769 32.7685 16.9062C33.0417 16.6354 33.262 16.3181 33.4294 15.9542C33.5968 15.5904 33.6806 15.2054 33.6806 14.7992V0.482308C33.6806 0.346923 33.6321 0.232692 33.5352 0.139615C33.4382 0.0465385 33.3193 0 33.1783 0H29.5035C29.3626 0 29.2436 0.0465385 29.1467 0.139615C29.0497 0.232692 29.0012 0.346923 29.0012 0.482308V12.9969C29.0012 13.1323 28.9572 13.2423 28.8691 13.3269C28.7809 13.4115 28.6664 13.4538 28.5254 13.4538H23.2909C23.1499 13.4538 23.0309 13.4115 22.934 13.3269C22.8371 13.2423 22.7886 13.1323 22.7886 12.9969V0.482308C22.7886 0.160769 22.6212 0 22.2863 0H18.638C18.3032 0 18.1357 0.160769 18.1357 0.482308V14.7992C18.1357 15.2054 18.2151 15.5904 18.3737 15.9542C18.5323 16.3181 18.7526 16.6354 19.0346 16.9062C19.3166 17.1769 19.647 17.3885 20.026 17.5408C20.4049 17.6931 20.8059 17.7692 21.2288 17.7692H30.5875Z"
            fill="white"
          />
          <path
            d="M48.908 0L49.0879 0.00492151C49.4451 0.0246075 49.7861 0.103352 50.1109 0.241154C50.4898 0.401923 50.8159 0.613461 51.089 0.875769C51.3622 1.13808 51.5825 1.45115 51.75 1.815C51.9174 2.17885 52.0011 2.56385 52.0011 2.97V9.69692L51.996 9.86969C51.9755 10.2126 51.8935 10.5401 51.75 10.8519C51.5825 11.2158 51.3622 11.5288 51.089 11.7912C50.8159 12.0535 50.4898 12.265 50.1109 12.4258C49.7319 12.5865 49.331 12.6669 48.908 12.6669H43.0126L42.9306 12.672C42.8249 12.6855 42.7332 12.7262 42.6557 12.7938C42.5588 12.8785 42.5103 12.9885 42.5103 13.1238V17.2869L42.5068 17.364C42.4812 17.6341 42.315 17.7692 42.008 17.7692H38.3597L38.2795 17.7659C37.9981 17.7413 37.8574 17.5817 37.8574 17.2869V0.482308L37.8609 0.405272C37.8865 0.135091 38.0528 0 38.3597 0H48.908ZM46.7858 4.03615H43.0727C42.6745 4.03615 42.3517 4.34611 42.3517 4.72846V7.83692C42.3517 8.21927 42.6745 8.52923 43.0727 8.52923H46.7858C47.184 8.52923 47.5068 8.21927 47.5068 7.83692V4.72846C47.5068 4.34611 47.184 4.03615 46.7858 4.03615Z"
            fill="white"
          />
          <path
            d="M68.7088 17.7692C68.8498 17.7692 68.9687 17.7227 69.0657 17.6296C69.1626 17.5365 69.2111 17.4223 69.2111 17.2869V14.1138C69.2111 13.9785 69.1626 13.8642 69.0657 13.7712C68.9687 13.6781 68.8498 13.6315 68.7088 13.6315H59.8524C59.7643 13.6315 59.7203 13.5892 59.7203 13.5046V10.7631C59.7203 10.6785 59.7643 10.6362 59.8524 10.6362H67.4134C67.5544 10.6362 67.6689 10.5896 67.757 10.4965C67.8452 10.4035 67.8892 10.2892 67.8892 10.1538V7.61538C67.8892 7.48 67.8452 7.36577 67.757 7.27269C67.6689 7.17961 67.5544 7.13308 67.4134 7.13308H59.8524C59.7643 7.13308 59.7203 7.09923 59.7203 7.03154V4.26461C59.7203 4.18 59.7643 4.13769 59.8524 4.13769H68.7088C68.8498 4.13769 68.9687 4.09538 69.0657 4.01077C69.1626 3.92615 69.2111 3.81615 69.2111 3.68077V0.482308C69.2111 0.346923 69.1626 0.232692 69.0657 0.139615C68.9687 0.0465385 68.8498 0 68.7088 0H55.5697C55.4287 0 55.3097 0.0465385 55.2128 0.139615C55.1159 0.232692 55.0674 0.346923 55.0674 0.482308V17.2869C55.0674 17.6085 55.2348 17.7692 55.5697 17.7692H68.7088Z"
            fill="white"
          />
          <path
            d="M85.8668 0L86.0467 0.00492151C86.4039 0.0246075 86.7449 0.103352 87.0697 0.241154C87.4486 0.401923 87.7746 0.613461 88.0478 0.875769C88.321 1.13808 88.5413 1.45115 88.7087 1.815C88.8762 2.17885 88.9599 2.56385 88.9599 2.97V9.64615L88.955 9.81996C88.9222 10.3941 88.7256 10.9158 88.3651 11.385C87.9685 11.9012 87.4618 12.2523 86.8449 12.4385L86.7656 12.4638L86.7187 12.4794C86.6367 12.5125 86.6259 12.5581 86.6863 12.6162C86.6863 12.6162 86.6951 12.6331 86.7128 12.6669L89.5415 17.3631L89.5716 17.4205C89.6132 17.5134 89.612 17.5915 89.5679 17.655C89.5151 17.7312 89.4181 17.7692 89.2771 17.7692H85.0737L84.9891 17.7647C84.8763 17.7525 84.7635 17.7159 84.6507 17.655C84.5097 17.5788 84.4039 17.4815 84.3334 17.3631L81.5311 12.54L81.5068 12.5034C81.4702 12.4601 81.4166 12.4385 81.3461 12.4385H78.2001L78.1525 12.4435C78.0961 12.4571 78.0679 12.4977 78.0679 12.5654V17.2869L78.0644 17.364C78.0388 17.6341 77.8726 17.7692 77.5656 17.7692H73.9173L73.8371 17.7659C73.5557 17.7413 73.415 17.5817 73.415 17.2869V0.482308L73.4185 0.405272C73.4441 0.135091 73.6104 0 73.9173 0H85.8668ZM83.5596 4.13769H78.6303C78.2321 4.13769 77.9093 4.44765 77.9093 4.83V7.76077C77.9093 8.14312 78.2321 8.45308 78.6303 8.45308H83.5596C83.9578 8.45308 84.2806 8.14312 84.2806 7.76077V4.83C84.2806 4.44765 83.9578 4.13769 83.5596 4.13769Z"
            fill="white"
          />
          <path
            d="M107.122 17.7692C107.263 17.7692 107.382 17.7227 107.479 17.6296C107.576 17.5365 107.624 17.4223 107.624 17.2869V13.9362C107.624 13.8008 107.576 13.6865 107.479 13.5935C107.382 13.5004 107.263 13.4538 107.122 13.4538H98.6357C98.4947 13.4538 98.3757 13.4115 98.2788 13.3269C98.1818 13.2423 98.1334 13.1323 98.1334 12.9969V4.77231C98.1334 4.63692 98.1818 4.52692 98.2788 4.44231C98.3757 4.35769 98.4947 4.31538 98.6357 4.31538H107.122C107.263 4.31538 107.382 4.26885 107.479 4.17577C107.576 4.08269 107.624 3.96846 107.624 3.83308V0.482308C107.624 0.346923 107.576 0.232692 107.479 0.139615C107.382 0.0465385 107.263 0 107.122 0H96.5736C96.1506 0 95.7496 0.0803846 95.3707 0.241154C94.9918 0.401923 94.6613 0.613461 94.3793 0.875769C94.0973 1.13808 93.877 1.45115 93.7184 1.815C93.5598 2.17885 93.4805 2.56385 93.4805 2.97V14.7992C93.4805 15.2054 93.5598 15.5904 93.7184 15.9542C93.877 16.3181 94.0973 16.6354 94.3793 16.9062C94.6613 17.1769 94.9918 17.3885 95.3707 17.5408C95.7496 17.6931 96.1506 17.7692 96.5736 17.7692H107.122Z"
            fill="white"
          />
          <path
            d="M124.226 0L124.406 0.00492151C124.763 0.0246075 125.104 0.103352 125.429 0.241154C125.808 0.401923 126.134 0.613461 126.407 0.875769C126.68 1.13808 126.901 1.45115 127.068 1.815C127.235 2.17885 127.319 2.56385 127.319 2.97V14.7992L127.314 14.972C127.294 15.315 127.212 15.6424 127.068 15.9542C126.901 16.3181 126.68 16.6354 126.407 16.9062C126.134 17.1769 125.808 17.3885 125.429 17.5408C125.05 17.6931 124.649 17.7692 124.226 17.7692H114.868L114.658 17.7629C114.311 17.7417 113.98 17.6677 113.665 17.5408C113.286 17.3885 112.955 17.1769 112.673 16.9062C112.391 16.6354 112.171 16.3181 112.012 15.9542C111.854 15.5904 111.774 15.2054 111.774 14.7992V2.97L111.781 2.76869C111.803 2.4361 111.88 2.1182 112.012 1.815C112.171 1.45115 112.391 1.13808 112.673 0.875769C112.955 0.613461 113.286 0.401923 113.665 0.241154C114.044 0.0803846 114.445 0 114.868 0H124.226ZM121.919 4.31538H117.148C116.75 4.31538 116.427 4.62534 116.427 5.00769V12.7615C116.427 13.1439 116.75 13.4538 117.148 13.4538H121.919C122.317 13.4538 122.64 13.1439 122.64 12.7615V5.00769C122.64 4.62534 122.317 4.31538 121.919 4.31538Z"
            fill="white"
          />
          <path
            d="M135.488 17.7692C135.823 17.7692 135.99 17.6085 135.99 17.2869V8.37692C136.66 9.98461 137.268 11.4231 137.815 12.6923C138.044 13.2338 138.268 13.7669 138.489 14.2915C138.709 14.8162 138.907 15.2858 139.083 15.7004C139.26 16.115 139.405 16.4577 139.52 16.7285C139.634 16.9992 139.7 17.1431 139.718 17.16L139.797 17.3377C139.85 17.4562 139.943 17.5577 140.075 17.6423C140.207 17.7269 140.344 17.7692 140.485 17.7692H143.551C143.692 17.7692 143.829 17.7269 143.961 17.6423C144.093 17.5577 144.186 17.4562 144.239 17.3377L144.292 17.16C144.309 17.1431 144.375 16.9992 144.49 16.7285C144.604 16.4577 144.75 16.115 144.926 15.7004C145.102 15.2858 145.305 14.8162 145.534 14.2915C145.763 13.7669 145.992 13.2338 146.221 12.6923L148.072 8.37692V17.2869C148.072 17.4223 148.116 17.5365 148.204 17.6296C148.292 17.7227 148.407 17.7692 148.548 17.7692H152.09C152.231 17.7692 152.35 17.7227 152.447 17.6296C152.544 17.5365 152.593 17.4223 152.593 17.2869V0.482308C152.593 0.363846 152.553 0.262308 152.474 0.177692C152.394 0.0930769 152.302 0.0338461 152.196 0H148.125C147.984 0 147.847 0.0423077 147.715 0.126923C147.583 0.211538 147.49 0.313077 147.437 0.431538L142.018 12.3369L136.598 0.431538C136.546 0.313077 136.453 0.211538 136.321 0.126923C136.189 0.0423077 136.052 0 135.911 0H131.946C131.84 0 131.761 0.0253846 131.708 0.0761538C131.549 0.160769 131.47 0.296154 131.47 0.482308V17.2869C131.47 17.6085 131.637 17.7692 131.972 17.7692H135.488Z"
            fill="white"
          />
          <path
            d="M167.847 0L168.027 0.00492151C168.385 0.0246075 168.726 0.103352 169.05 0.241154C169.429 0.401923 169.755 0.613461 170.028 0.875769C170.302 1.13808 170.522 1.45115 170.689 1.815C170.857 2.17885 170.941 2.56385 170.941 2.97V9.69692L170.935 9.86969C170.915 10.2126 170.833 10.5401 170.689 10.8519C170.522 11.2158 170.302 11.5288 170.028 11.7912C169.755 12.0535 169.429 12.265 169.05 12.4258C168.671 12.5865 168.27 12.6669 167.847 12.6669H161.952L161.87 12.672C161.764 12.6855 161.673 12.7262 161.595 12.7938C161.498 12.8785 161.45 12.9885 161.45 13.1238V17.2869L161.446 17.364C161.421 17.6341 161.254 17.7692 160.947 17.7692H157.299L157.219 17.7659C156.938 17.7413 156.797 17.5817 156.797 17.2869V0.482308L156.8 0.405272C156.826 0.135091 156.992 0 157.299 0H167.847ZM165.725 4.03615H162.012C161.614 4.03615 161.291 4.34611 161.291 4.72846V7.83692C161.291 8.21927 161.614 8.52923 162.012 8.52923H165.725C166.123 8.52923 166.446 8.21927 166.446 7.83692V4.72846C166.446 4.34611 166.123 4.03615 165.725 4.03615Z"
            fill="white"
          />
          <path
            d="M186.432 0L186.612 0.00492151C186.969 0.0246075 187.31 0.103352 187.635 0.241154C188.014 0.401923 188.34 0.613461 188.613 0.875769C188.886 1.13808 189.107 1.45115 189.274 1.815C189.442 2.17885 189.525 2.56385 189.525 2.97V17.2869L189.519 17.3656C189.504 17.4672 189.457 17.5552 189.38 17.6296C189.283 17.7227 189.164 17.7692 189.023 17.7692H185.348L185.266 17.7636C185.161 17.7488 185.069 17.7041 184.991 17.6296C184.894 17.5365 184.846 17.4223 184.846 17.2869V12.7431L184.841 12.6644C184.827 12.5628 184.784 12.4748 184.714 12.4004C184.626 12.3073 184.511 12.2608 184.37 12.2608H179.136L179.054 12.2664C178.948 12.2812 178.856 12.3259 178.779 12.4004C178.682 12.4935 178.633 12.6077 178.633 12.7431V17.2869L178.63 17.364C178.604 17.6341 178.438 17.7692 178.131 17.7692H174.483L174.403 17.7659C174.121 17.7413 173.98 17.5817 173.98 17.2869V2.97L173.987 2.76869C174.009 2.4361 174.086 2.1182 174.218 1.815C174.377 1.45115 174.597 1.13808 174.879 0.875769C175.161 0.613461 175.492 0.401923 175.871 0.241154C176.25 0.0803846 176.651 0 177.074 0H186.432ZM184.125 3.98538H179.354C178.956 3.98538 178.633 4.29534 178.633 4.67769V7.76077C178.633 8.14312 178.956 8.45308 179.354 8.45308H184.125C184.523 8.45308 184.846 8.14312 184.846 7.76077V4.67769C184.846 4.29534 184.523 3.98538 184.125 3.98538Z"
            fill="white"
          />
          <path
            d="M197.853 17.7692C198.188 17.7692 198.355 17.6085 198.355 17.2869V7.00615L204.198 17.3631C204.268 17.4815 204.374 17.5788 204.515 17.655C204.656 17.7312 204.797 17.7692 204.938 17.7692H208.745C208.886 17.7692 209.005 17.7227 209.102 17.6296C209.198 17.5365 209.247 17.4223 209.247 17.2869V0.482308C209.247 0.346923 209.198 0.232692 209.102 0.139615C209.005 0.0465385 208.886 0 208.745 0H205.07C204.929 0 204.81 0.0465385 204.713 0.139615C204.616 0.232692 204.568 0.346923 204.568 0.482308V10.7885L198.699 0.406154C198.628 0.287692 198.522 0.190385 198.381 0.114231C198.24 0.0380769 198.099 0 197.958 0H194.204C193.87 0 193.702 0.160769 193.702 0.482308V17.2869C193.702 17.6085 193.87 17.7692 194.204 17.7692H197.853Z"
            fill="white"
          />
          <path
            d="M222.65 17.7692C222.791 17.7692 222.906 17.7227 222.994 17.6296C223.082 17.5365 223.126 17.4223 223.126 17.2869V11.6515C223.126 11.5162 223.148 11.3638 223.192 11.1946C223.236 11.0254 223.293 10.8815 223.364 10.7631L229.312 0.406154C229.383 0.287692 229.392 0.190385 229.339 0.114231C229.286 0.0380769 229.189 0 229.048 0H225.082C224.941 0 224.8 0.0380769 224.659 0.114231C224.518 0.190385 224.413 0.287692 224.342 0.406154L220.8 7.08231L217.257 0.406154C217.187 0.287692 217.085 0.190385 216.953 0.114231C216.821 0.0380769 216.684 0 216.543 0H212.578C212.437 0 212.34 0.0380769 212.287 0.114231C212.234 0.190385 212.243 0.287692 212.313 0.406154L218.235 10.7631C218.306 10.8815 218.363 11.0254 218.407 11.1946C218.451 11.3638 218.473 11.5162 218.473 11.6515V17.2869C218.473 17.4223 218.522 17.5365 218.619 17.6296C218.715 17.7227 218.834 17.7692 218.975 17.7692H222.65Z"
            fill="white"
          />
        </svg>
      </div>
      <div className="header_search">
        <input placeholder="&#xf002; 통합 검색" type="text" />
      </div>

      <div className="header_nav">
        <ul>
          <li>
            <NavLink exact to="/" activeStyle={activeStyle}>
              Home
            </NavLink>
          </li>
          <li>
            <NavLink exact to="/about" activeStyle={activeStyle}>
              About
            </NavLink>
          </li>
          <li>
            <NavLink to="/about/foo" activeStyle={activeStyle}>
              About Foo
            </NavLink>
          </li>
          <li>
            <NavLink to="/posts" activeStyle={activeStyle}>
              Posts
            </NavLink>
          </li>
          <li>
            <NavLink to="/table" activeStyle={activeStyle}>
              Table
            </NavLink>
          </li>
        </ul>
      </div>
      <GNB openGNBBar={props.openGNBBar} setGNB={props.setGNB} />
    </div>
  );
};

export default Header;
